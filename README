=========
SeqDB-Py 
=========

SeqDB-Py is a Python extension of SeqDB project. It allows access to SeqDB through its RESful API. The project contains both the API wrapper and the command line tools that use it.

How do I get set up?
====================

Requirements:
  * Running instance of SeqDB (not currently Open Source)
  * Python 2.7
  * pip 6.0.8 (sudo apt-get install python-pip python-dev build-essential)


Not required, but recommended
  * virtualenv (sudo apt-get install python-virtualenv)


Running
=======

This section is for those who just want to run (i.e. use) seqdb-py. If you'd like to develop it, see instruction below. 

* Create and start your virtual environment:

   > virtualenv venv
   
   > source venv/bin/activate

* Install seqdb-py from git (use one of the options below):

    - Source distribution:
  
   > pip install -e git+https://bitbucket.org/aafc-mbb/seqdb-py.git#egg=seqdb-py

    - Installing a particular version (i.e. Version 1.0 in the example below):

   > pip install -e git+https://bitbucket.org/aafc-mbb/seqdb-py.git@1.0#egg=seqdb-py

* Modify config files for your environment:

Initial distribution will contain <file_name>.yaml.sample files, which need to be renamed to <file_name>.yaml and modified according to instructions inside the files.

There is a main config file for the package, config/config.yaml, which specifies logging information, SeqDB API url, etc. Inaddition, some tools may have specific yaml config files, containing parameters that only those tools require. These configuration files will be located alongside the tool.  

* Run desired tool (below are available as entry points):

   > pull_seqdb_its_seqs
   
   > push_seqdb_its_feat
   
   > delete_seqdb_features
   
   > seqdb_gb_insert 
   
   Note: see help on each tool for usage



Example: Running seqdb_gb_insert.py 
  This example assumes you've activated a virtual environment and installed seqdb-py in it.
  
* Create config/config.yaml and tools/seqdb_gb_insert_config.yaml

   > cp config/config.yaml.sample config/config.yaml
   
   > cp tools/seqdb_gb_insert_config.yaml.sample tools/seqdb_gb_insert_config.yaml

* Initialize above files according to instructions inside each .yaml file

* Run script

   > seqdb_gb_insert




Developing
==========

If you would like to contribute to seqdb-py codebase, do the following.

* Clone the repo

    > git clone https://bitbucket.org/aafc-mbb/seqdb-py.git

* Switch to the seqdb-py directory

* Create virtual environment, source it and install required packages in it:

   > virtualenv venv
   
   > source venv/bin/activate
   
   > pip install -r requirements.txt
   



Who do I talk to?
=================

* Oksana Korol
* MBB team
